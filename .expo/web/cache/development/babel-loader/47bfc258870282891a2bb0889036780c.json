{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"F:\\\\Professionnel\\\\Formation\\\\3wacademy\\\\react\\\\reactnative\\\\drivev1\\\\api_front\\\\screen\\\\product\\\\promotions.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Icon from \"@expo/vector-icons/AntDesign\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport { getAllPromotion } from \"../../api/promotion\";\nimport { Appbar } from 'react-native-paper';\nimport Icon4 from \"@expo/vector-icons/FontAwesome\";\nimport { connect } from 'react-redux';\n\nvar Promotions = function Promotions(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      productsInPromotion = _useState2[0],\n      setProductsInPromotion = _useState2[1];\n\n  useEffect(function () {\n    getAllPromotion(props.user.infos.token).then(function (response) {\n      setProductsInPromotion(response.result);\n      console.log(\"Liste des produits à dispatch\", productsInPromotion);\n    });\n  }, []);\n\n  var goToDetailProduct = function goToDetailProduct(id) {\n    props.navigation.navigate('DetailProduct', {\n      id: id\n    });\n  };\n\n  return React.createElement(ImageBackground, {\n    style: styles.imgBackground,\n    resizeMode: \"cover\",\n    source: require(\"../../assets/bg3.jpg\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, productsInPromotion.length > 0 ? React.createElement(ScrollView, {\n    style: styles.ScrollView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 40\n    }\n  }, React.createElement(Appbar.Header, {\n    style: styles.headerContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    style: styles.logo,\n    source: require(\"../../assets/img/logo.png\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Bienvenue dans votre Drive\"), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      props.navigation.navigate('Basket');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, React.createElement(Icon4, {\n    size: 30,\n    name: 'shopping-basket',\n    style: styles.icon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: styles.textFromHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Panier\"))))), React.createElement(View, {\n    style: styles.boxHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.textHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Les promotions du moment :\")), productsInPromotion.map(function (products) {\n    return React.createElement(View, {\n      style: styles.box,\n      key: products.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 20\n      }\n    }, React.createElement(View, {\n      style: styles.inner3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        goToDetailProduct(products.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, React.createElement(Text, {\n      style: styles.promo,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, products.promotion, \"%\"), React.createElement(Image, {\n      style: styles.imgHeader,\n      source: {\n        uri: products.photo\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }))), React.createElement(View, {\n      style: styles.inner3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles.text,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, products.name), React.createElement(Text, {\n      style: styles.text,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, products.price, \"\\u20AC\")), React.createElement(View, {\n      style: styles.inner1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, React.createElement(Icon, {\n      name: \"pluscircle\",\n      size: 30,\n      color: \"green\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    })));\n  })) : React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Il n'y a aucun produits en promotions\")));\n};\n\nvar styles = StyleSheet.create({\n  ScrollView: {\n    width: wp('100%')\n  },\n  imgBackground: {\n    width: '100%',\n    height: '100%',\n    flex: 1\n  },\n  headerContainer: {\n    backgroundColor: '#17202a',\n    height: 50\n  },\n  container: {\n    flex: 1,\n    alignItems: 'flex-end',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  logo: {\n    width: 50,\n    height: 53\n  },\n  title: {\n    color: '#a3c2fa',\n    fontSize: 18\n  },\n  icon: {\n    color: '#a3c2fa'\n  },\n  textFromHeader: {\n    color: \"#a3c2fa\"\n  },\n  boxHeader: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    borderColor: 'gray',\n    paddingTop: hp('1%'),\n    borderBottomWidth: 3\n  },\n  box: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: 'gray'\n  },\n  inner1: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: \"center\",\n    borderColor: 'gray'\n  },\n  inner3: {\n    flex: 2,\n    alignItems: 'center',\n    justifyContent: \"center\",\n    borderRightWidth: 1,\n    borderColor: 'gray'\n  },\n  promo: {\n    width: wp('15%'),\n    textAlign: 'center',\n    marginTop: 5,\n    padding: 5,\n    borderWidth: 1,\n    borderRadius: 50,\n    borderColor: 'white',\n    backgroundColor: 'red',\n    color: 'white',\n    fontWeight: 'bold'\n  },\n  imgHeader: {\n    width: 80,\n    height: 80\n  },\n  textHeader: {\n    color: \"#17202a\",\n    fontWeight: \"bold\",\n    textAlign: 'center',\n    fontSize: 25\n  },\n  text: {\n    color: \"black\",\n    fontWeight: \"bold\",\n    textAlign: 'center',\n    fontSize: 18,\n    marginTop: 5\n  }\n});\n\nmapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user\n  };\n};\n\nexport default connect(mapStateToProps)(Promotions);","map":{"version":3,"sources":["F:/Professionnel/Formation/3wacademy/react/reactnative/drivev1/api_front/screen/product/promotions.js"],"names":["React","useState","useEffect","Icon","widthPercentageToDP","wp","heightPercentageToDP","hp","getAllPromotion","Appbar","Icon4","connect","Promotions","props","productsInPromotion","setProductsInPromotion","user","infos","token","then","response","result","console","log","goToDetailProduct","id","navigation","navigate","styles","imgBackground","require","length","ScrollView","headerContainer","container","logo","title","icon","textFromHeader","boxHeader","textHeader","map","products","box","inner3","promo","promotion","imgHeader","uri","photo","text","name","price","inner1","StyleSheet","create","width","height","flex","backgroundColor","alignItems","flexDirection","justifyContent","color","fontSize","borderColor","paddingTop","borderBottomWidth","borderTopWidth","borderRightWidth","textAlign","marginTop","padding","borderWidth","borderRadius","fontWeight","mapStateToProps","store"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { StyleSheet, Text, View, Image, ImageBackground, TouchableOpacity, ScrollView } from 'react-native';\r\nimport Icon from 'react-native-vector-icons/AntDesign'\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n  } from 'react-native-responsive-screen';\r\nimport {getAllPromotion} from '../../api/promotion';\r\nimport {Appbar} from 'react-native-paper'\r\nimport Icon4 from 'react-native-vector-icons/FontAwesome';\r\nimport {connect} from 'react-redux';\r\n\r\nconst Promotions = (props)=>{\r\n  \r\n  const [productsInPromotion, setProductsInPromotion] = useState('')\r\n\r\n  useEffect(()=>{\r\n    \r\n    getAllPromotion(props.user.infos.token)\r\n    .then((response)=>{\r\n      //console.log(\"PROMOTIONS\",response.result)\r\n      setProductsInPromotion(response.result)\r\n      console.log(\"Liste des produits à dispatch\",productsInPromotion)\r\n    })\r\n\r\n}, [])\r\n\r\nconst goToDetailProduct = (id)=>{\r\n  props.navigation.navigate('DetailProduct', {id: id})\r\n}\r\n\r\n  return(\r\n    <ImageBackground \r\n        style={ styles.imgBackground } \r\n        resizeMode='cover' \r\n        source={require('../../assets/bg3.jpg')}\r\n    >\r\n    <View>\r\n      {productsInPromotion.length > 0 ?<ScrollView style={styles.ScrollView}>\r\n        <Appbar.Header style={styles.headerContainer}>\r\n          <View style={styles.container}>\r\n            <Image\r\n              style={styles.logo}\r\n              source={require('../../assets/img/logo.png')}\r\n            />\r\n            <Text style={styles.title}\r\n            >\r\n              Bienvenue dans votre Drive\r\n            </Text>            \r\n            <View>\r\n              <TouchableOpacity\r\n                onPress={()=>{\r\n                  props.navigation.navigate('Basket')\r\n                }}\r\n              >\r\n                <Icon4 \r\n                  size={30} \r\n                  name={'shopping-basket'} \r\n                  style={styles.icon}\r\n                />\r\n                <Text style={styles.textFromHeader}>\r\n                  Panier\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </Appbar.Header>\r\n            <View style={styles.boxHeader}>\r\n                <Text style={styles.textHeader}>\r\n                    Les promotions du moment :\r\n                </Text>\r\n            </View>\r\n            {productsInPromotion.map((products)=>{\r\n            return <View style={styles.box} key={products.id}>\r\n                <View style={styles.inner3}>\r\n                  <TouchableOpacity\r\n                      onPress={()=>{\r\n                        goToDetailProduct(products.id)\r\n                      }}\r\n                  >\r\n                    <Text style={styles.promo}>\r\n                      {products.promotion}%\r\n                    </Text>\r\n                    <Image\r\n                    style={styles.imgHeader}\r\n                    source={{\r\n                          uri: products.photo\r\n                        }}\r\n                    />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.inner3}>\r\n                    <Text style={styles.text}>\r\n                      {products.name}\r\n                    </Text>\r\n                    <Text style={styles.text}>\r\n                      {products.price}€\r\n                    </Text>\r\n                </View>\r\n                <View style={styles.inner1}>\r\n                    <Icon name=\"pluscircle\" size={30} color=\"green\" />                        \r\n                </View>\r\n            </View>})\r\n           }\r\n        </ScrollView> : <Text>Il n'y a aucun produits en promotions</Text>\r\n      }\r\n    </View>\r\n    </ImageBackground>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\r\nScrollView: {\r\n    width: wp('100%'),\r\n  },\r\n  imgBackground: {\r\n    width: '100%',\r\n    height: '100%',\r\n    flex: 1 \r\n  },\r\n  headerContainer: {\r\n    backgroundColor: '#17202a',\r\n        height:50\r\n  },\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  logo: {\r\n    width:50,\r\n    height:53,\r\n  },\r\n  title: {\r\n    color:'#a3c2fa',\r\n    fontSize: 18\r\n  },\r\n  icon: {\r\n    color:'#a3c2fa',\r\n  },\r\n  textFromHeader: {\r\n    color:\"#a3c2fa\",\r\n  },\r\n  boxHeader: {\r\n    flex:1,\r\n    flexDirection: 'row',\r\n    justifyContent:'space-around',\r\n    borderColor: 'gray',\r\n    paddingTop: hp('1%'),\r\n    borderBottomWidth: 3,\r\n  },\r\n  box: {\r\n    flex:1,\r\n    flexDirection: 'row',\r\n    justifyContent:'space-around',\r\n    borderTopWidth: 1,\r\n    borderBottomWidth: 1,\r\n    borderColor: 'gray'\r\n  },\r\n  inner1: {\r\n    flex:1,\r\n    alignItems: 'center',\r\n    justifyContent: \"center\",        \r\n    borderColor: 'gray'\r\n  },\r\n  \r\n  inner3: {\r\n    flex:2,\r\n    alignItems: 'center',\r\n    justifyContent: \"center\",   \r\n    borderRightWidth: 1,\r\n    borderColor: 'gray'\r\n  },\r\n  promo: {\r\n    width: wp('15%'),\r\n    textAlign: 'center',\r\n    marginTop: 5,\r\n    padding: 5,\r\n    borderWidth: 1,\r\n    borderRadius: 50,\r\n    borderColor: 'white',\r\n    backgroundColor: 'red',\r\n    color: 'white',\r\n    fontWeight: 'bold'\r\n  },\r\n  imgHeader: {\r\n    width:80,\r\n    height:80\r\n  },\r\n\r\n  textHeader: {\r\n    color: \"#17202a\",\r\n    fontWeight: \"bold\",\r\n    textAlign: 'center',\r\n    fontSize: 25\r\n  },\r\n  text: {\r\n    color: \"black\",\r\n    fontWeight: \"bold\",\r\n    textAlign: 'center',\r\n    fontSize: 18,\r\n    marginTop: 5\r\n  }\r\n\r\n})\r\n\r\nmapStateToProps = (store)=>{\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Promotions);"]},"metadata":{},"sourceType":"module"}